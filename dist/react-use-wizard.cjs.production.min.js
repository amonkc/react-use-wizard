"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");const t=e.createContext(null);exports.Wizard=e.memo(({header:r,footer:n,children:u,onStepChange:s,wrapper:c,startIndex:a=0})=>{const[l,o]=e.useState(a),[i,p]=e.useState(!1),C=e.useRef(!0),S=e.useRef(!1),d=e.useRef(()=>{}),h=e.Children.toArray(u).length;C.current=l<h-1,S.current=l>0;const v=e.useCallback(()=>{if(C.current){const e=l+1;o(e),s&&s(e)}},[l,s]),f=e.useCallback(()=>{if(S.current){d.current=null;const e=l-1;o(e),s&&s(e)}},[l,s]),m=e.useCallback(e=>{e>=0&&e<h&&(d.current=null,o(e),s&&s(e))},[h,s]),x=e.useRef(e=>{d.current=e}),b=e.useCallback(async()=>{if(C.current&&d.current)try{p(!0),await d.current(),p(!1),d.current=null,v()}catch(e){throw p(!1),e}else v()},[v]),y=e.useMemo(()=>({nextStep:b,previousStep:f,handleStep:x.current,isLoading:i,activeStep:l,stepCount:h,isFirstStep:!S.current,isLastStep:!C.current,goToStep:m}),[b,f,i,l,h,m]),g=e.useMemo(()=>e.Children.toArray(u)[l],[l,u]),k=e.useMemo(()=>c?e.cloneElement(c,{children:g}):g,[c,g]);return e.createElement(t.Provider,{value:y},r?r({activeStep:y.activeStep,stepCount:y.stepCount}):null,k,n?n({activeStep:y.activeStep,stepCount:y.stepCount}):null)}),exports.useWizard=()=>e.useContext(t);
//# sourceMappingURL=react-use-wizard.cjs.production.min.js.map
